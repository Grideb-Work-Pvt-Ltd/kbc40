#pragma checksum "D:\all project\kbc40\Views\Admin\idcard.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "f5cd1125d1b98f8ec093f1ea6b5c9b9f7e58bf8b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Admin_idcard), @"mvc.1.0.view", @"/Views/Admin/idcard.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\all project\kbc40\Views\_ViewImports.cshtml"
using forex;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\all project\kbc40\Views\_ViewImports.cshtml"
using forex.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f5cd1125d1b98f8ec093f1ea6b5c9b9f7e58bf8b", @"/Views/Admin/idcard.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b9ddd90587b56cc8092654fa9aa92c8f2663dadc", @"/Views/_ViewImports.cshtml")]
    public class Views_Admin_idcard : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<forex.Models.user>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
  
    ViewData["Title"] = "Idcard";
    Layout = "~/Views/Shared/_Layoutadmin.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n");
            WriteLiteral(@"

<div class=""content-wrapper"" style=""min-height: 333px;"">
    <!-- Content Header (Page header) -->
    <div class=""content-header"">
        <div class=""container-fluid"">
            <div class=""row mb-2"">
                <div class=""col-sm-6"">
                    <h1 class=""m-0"">User List</h1>
                </div><!-- /.col -->
                <div class=""col-sm-6"">
                    <ol class=""breadcrumb float-sm-right"">
                        <li class=""breadcrumb-item""><a href=""#"">Home</a></li>
                        <li class=""breadcrumb-item active"">User List</li>
                    </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
    </div>

    <!-- Main content -->
    <section class=""content"">

        <div class=""container"">

            <button onclick=""ExportToExcel()"" class=""btn btn-success text-white"" style=""margin-top:78px;background-color: #23085a!important;"">Export table to excel</button>
  ");
            WriteLiteral(@"          <div class=""row"">
                <div class=""col-lg-12 mt-3"">
                    <div class=""table"">
                        <input id=""myInput"" type=""text"" placeholder=""Search.."" />
                        <table id=""mytable"" class=""table"" style=""font-size:14px;"">
                            <thead class=""table-light-head"">
                                <tr class=""table-border"">
                                    <th scope=""col"" class=""table-border"">S.no</th>
                                    <th scope=""col"" class=""table-border"">Name</th>
                                    <th scope=""col"" class=""table-border"">User Id</th>
                                    <th scope=""col"" class=""table-border"">Sponsorid</th>
                                    <th scope=""col"" class=""table-border"">Sponsorname</th>
                                    <th scope=""col"" class=""table-border"">Mobile</th>
                                    <th scope=""col"" class=""table-border"">Rank</th>
               ");
            WriteLiteral(@"                     <th scope=""col"" class=""table-border"">DOJ</th>
                                    <th scope=""col"" class=""table-border"">Address</th>
                                    <th scope=""col"" class=""table-border"">Qrcode</th>

                                    <th scope=""col"" class=""table-border"">Image</th>

                                    <th scope=""col"" class=""table-border"">Detail</th>
                                    <th scope=""col"" class=""table-border"">Amount</th>
                                    <th scope=""col"" class=""table-border"">date</th>

                                </tr>
                            </thead>
                            <tbody class=""table-details"">
");
#nullable restore
#line 98 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                  
                                    int i = 0;
                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 101 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                 foreach (var item in Model.reglist)
                                {
                                    i++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <tr>\r\n                                        <td scope=\"row\">");
#nullable restore
#line 105 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                                   Write(i);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        <td>");
#nullable restore
#line 106 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        <td>");
#nullable restore
#line 107 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.userid);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        <td>");
#nullable restore
#line 108 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.Sponsorid);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        <td>");
#nullable restore
#line 109 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.Sponsorname);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        <td>");
#nullable restore
#line 110 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.message);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        <td>");
#nullable restore
#line 111 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.City);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        <td>");
#nullable restore
#line 112 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.RegDate);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n");
#nullable restore
#line 113 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                         if (item.address == "")
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <td>empty</td>\r\n");
#nullable restore
#line 116 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <td>");
#nullable restore
#line 119 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                           Write(item.address);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n");
#nullable restore
#line 120 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td> <canvas");
            BeginWriteAttribute("id", " id=\"", 5103, "\"", 5127, 2);
            WriteAttributeValue("", 5108, "qrcode_", 5108, 7, true);
#nullable restore
#line 122 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
WriteAttributeValue("", 5115, item.userid, 5115, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></canvas></td>\r\n\r\n                                        <td><a");
            BeginWriteAttribute("href", " href=\"", 5193, "\"", 5211, 1);
#nullable restore
#line 124 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
WriteAttributeValue("", 5200, item.image, 5200, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><img");
            BeginWriteAttribute("src", " src=\"", 5217, "\"", 5234, 1);
#nullable restore
#line 124 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
WriteAttributeValue("", 5223, item.image, 5223, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"width:100px;\" /></a></td>\r\n\r\n                                        <td>");
#nullable restore
#line 126 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.parentid);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n\r\n                                        <td>");
#nullable restore
#line 128 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.accountno);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        <td>");
#nullable restore
#line 129 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                       Write(item.Mobile);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n\r\n\r\n                                    </tr>\r\n");
#nullable restore
#line 133 "D:\all project\kbc40\Views\Admin\idcard.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<script src=""https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js""></script>

<script src=""https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.4/xlsx.full.min.js""></script>
<script src=""https://code.jquery.com/jquery-3.6.0.min.js""></script>
<script>

    function ExportToExcel() {
        var wb = XLSX.utils.book_new();
        var ws = XLSX.utils.table_to_sheet(document.getElementById('mytable'));

        // Add QR code images to the ""Data"" worksheet in the 9th column
        $('#mytable tbody tr').each(function (index) {
            var qrCodeURL = $(this).find('td:nth-child(10) img').attr('src'); // Assuming QR code images are in the 9th column

            var imageURL = $(this).find('td:nth-child(11) img').attr('src'); // Assuming regular images are in the 11th column
            var hyperlinkURL =");
            WriteLiteral(@" ""https://kbc40.com/"" + imageURL; // Creating hyperlink URL

            var rowData = XLSX.utils.sheet_to_json(ws)[index];
            var dataArray = Object.values(rowData);
            dataArray.splice(9, 0, qrCodeURL);
            dataArray.splice(10, 0, { v: imageURL, l: { Target: hyperlinkURL, Tooltip: ""Click to open"" } }); // Adding hyperlinked image URL
            XLSX.utils.sheet_add_aoa(ws, [dataArray], { origin: index + 1 });
        });

        // Append the modified ""Data"" worksheet to the workbook
        XLSX.utils.book_append_sheet(wb, ws, ""Data"");

        // Save the workbook as an Excel file
        XLSX.writeFile(wb, 'MySheetName.xlsx');
    }
</script>





<script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js""></script>
<script>
    // Function to generate QR code for each userid
    function myFunction(userid) {
        $.ajax({
            url: '../Home/MyAction',
            data: { id: userid },
            type: ""POST"",
        ");
            WriteLiteral(@"    success: function (data) {
                console.log(data);
                // Assuming there's an element with id ""target"" in each row
                $('#target_' + userid).attr('src', 'https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=https://kbc40.com/home/identity/' + userid + '&choe=UTF-8');
                //$('#target_' + userid).attr('src', 'QR_CODE_URL');
            }
        });
    }

    $(document).ready(function () {
        // Iterate over each row in the table
        $('#mytable tbody tr').each(function () {
            // Find the userid value in the row
            var userid = $(this).find('td:eq(2)').text(); // Adjust the index based on the position of userid in your table
            console.log(userid);
            // myFunction(userid);
            generateQR(userid);
        });
    });

    // Function to export table to Excel

</script>


<script src=""https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js""></script>
<script>
    ");
            WriteLiteral(@"function generateQR(userid) {
        var text = ""https://kbc40.com/home/identity/"" + userid + """";
        var canvas = document.getElementById(""qrcode_"" + userid + """");
        canvas.innerHTML = """"; // Clear previous content
        var qr = new QRious({
            element: canvas,
            value: text,
            size: 200

        });
    }
    generateQR();
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<forex.Models.user> Html { get; private set; }
    }
}
#pragma warning restore 1591
